<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1920, height=1080">
    <title>TikHub - Top Streak Overlay</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            width: 1920px; height: 1080px;
            overflow: hidden; background: transparent;
            font-family: 'Arial', sans-serif;
        }
        #top-container {
            position: absolute; top: 50px; right: 50px;
            width: 400px;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 107, 157, 0.3);
        }
        .top-header {
            font-size: 24px; font-weight: bold;
            color: #ff6b9d; text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(255, 107, 157, 0.5);
        }
        .top-streaker {
            display: flex; align-items: center;
            gap: 15px; padding: 15px;
            background: rgba(255, 107, 157, 0.1);
            border-radius: 10px; margin-bottom: 15px;
            border: 2px solid rgba(255, 107, 157, 0.3);
        }
        .rank {
            font-size: 32px; font-weight: bold;
            color: #ff6b9d; width: 40px;
            text-align: center;
        }
        .streaker-info {
            flex: 1;
        }
        .streaker-name {
            font-size: 20px; font-weight: bold;
            color: white; margin-bottom: 5px;
        }
        .streak-count {
            font-size: 24px; font-weight: bold;
            color: #ff6b9d;
        }
        #connection-status {
            position: fixed; top: 10px; right: 10px;
            padding: 8px 16px; background: rgba(0, 0, 0, 0.7);
            color: white; border-radius: 20px;
            font-size: 12px; font-family: monospace; z-index: 10000;
        }
        #connection-status.connected { background: rgba(0, 200, 0, 0.7); }
    </style>
</head>
<body>
    <div id="connection-status">Connecting...</div>
    <div id="top-container">
        <div class="top-header">ðŸ”¥ TOP STREAKS</div>
        <div id="streakers-list"></div>
    </div>
    <script>
        const OVERLAY_SERVER_URL = 'wss://your-overlay-server.onrender.com';
        const WS_PATH = '/ws/top-streak';
        let ws = null;
        const statusEl = document.getElementById('connection-status');
        const streakersList = document.getElementById('streakers-list');
        function connect() {
            ws = new WebSocket(OVERLAY_SERVER_URL + WS_PATH);
            ws.onopen = () => {
                console.log('âœ… Connected'); statusEl.textContent = 'Connected';
                statusEl.className = 'connected';
            };
            ws.onmessage = (event) => {
                const data = JSON.parse(event.data);
                if (data.type === 'top-streak-update') {
                    updateTopStreakers(data.streaks || []);
                } else if (data.type === 'initial-state' && data.state) {
                    updateTopStreakers(data.state.streaks || []);
                }
            };
            ws.onclose = () => { setTimeout(connect, 3000); };
        }
        function updateTopStreakers(streaks) {
            streakersList.innerHTML = '';
            streaks.slice(0, 5).forEach((streaker, index) => {
                const el = document.createElement('div');
                el.className = 'top-streaker';
                el.innerHTML = `
                    <div class="rank">${index === 0 ? 'ðŸ¥‡' : index === 1 ? 'ðŸ¥ˆ' : index === 2 ? 'ðŸ¥‰' : index + 1}</div>
                    <div class="streaker-info">
                        <div class="streaker-name">${streaker.username || streaker.name}</div>
                        <div class="streak-count">ðŸ”¥ ${streaker.streak || 0} streak</div>
                    </div>
                `;
                streakersList.appendChild(el);
            });
        }
        connect();
        setTimeout(() => { if (statusEl.className === 'connected') statusEl.style.opacity = '0.3'; }, 5000);
    </script>
</body>
</html>

